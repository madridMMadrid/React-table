{"ast":null,"code":"import _classCallCheck from \"/Users/dimamadrid/iCloud Drive (\\u0430\\u0440\\u0445\\u0438\\u0432) - 1/Documents/WORK/React-table/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/dimamadrid/iCloud Drive (\\u0430\\u0440\\u0445\\u0438\\u0432) - 1/Documents/WORK/React-table/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/dimamadrid/iCloud Drive (\\u0430\\u0440\\u0445\\u0438\\u0432) - 1/Documents/WORK/React-table/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/dimamadrid/iCloud Drive (\\u0430\\u0440\\u0445\\u0438\\u0432) - 1/Documents/WORK/React-table/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/dimamadrid/iCloud Drive (\\u0430\\u0440\\u0445\\u0438\\u0432) - 1/Documents/WORK/React-table/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/dimamadrid/iCloud Drive (\\u0430\\u0440\\u0445\\u0438\\u0432) - 1/Documents/WORK/React-table/src/App.js\";\nimport React, { Component } from 'react';\nimport Table from './Table/Table';\nimport DetailRowView from './DetailRowView/DetailRowView';\nimport TableSearch from './TableSearch/TableSearch';\nimport TableAdd from './TableAdd/TableAdd';\nimport TableEdit from './TableEdit/TableEdit';\nimport _ from 'lodash';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      data: [{\n        \"id\": 531,\n        \"firstName\": \"Андрей\",\n        \"lastName\": \"Баранов\",\n        \"email\": \"andrey@bk.ru\",\n        \"phone\": \"(909)541-2985\",\n        \"address\": {\n          \"streetAddress\": \"7366 Ante Ln\",\n          \"city\": \"Saint Pauls\",\n          \"state\": \"NC\",\n          \"zip\": \"93276\"\n        },\n        \"description\": \"Описание\"\n      }, {\n        \"id\": 7,\n        \"firstName\": \"Гретта\",\n        \"lastName\": \"Гарлкина\",\n        \"email\": \"diana@list.ru\",\n        \"phone\": \"(373)069-8474\",\n        \"address\": {\n          \"streetAddress\": \"3533 Pulvinar Dr\",\n          \"city\": \"Allentown\",\n          \"state\": \"KY\",\n          \"zip\": \"19194\"\n        },\n        \"description\": \"Описание 1\"\n      }, {\n        \"id\": 876,\n        \"firstName\": \"Джеймс\",\n        \"lastName\": \"Гандольфини\",\n        \"email\": \"jemes@list.ru\",\n        \"phone\": \"(455)380-5765\",\n        \"address\": {\n          \"streetAddress\": \"6557 Pretium Ct\",\n          \"city\": \"Berlin\",\n          \"state\": \"LA\",\n          \"zip\": \"94511\"\n        },\n        \"description\": \"Описание 2\"\n      }],\n      search: '',\n      sort: 'asc',\n      // 'desc'\n      sortField: 'id',\n      row: null,\n      currentPage: 0,\n      edit: true\n    };\n\n    _this.onSort = function (sortField) {\n      var cloneData = _this.state.data.concat();\n\n      var sort = _this.state.sort === 'asc' ? 'desc' : 'asc';\n\n      var data = _.orderBy(cloneData, sortField, sort);\n\n      _this.setState({\n        data: data,\n        sort: sort,\n        sortField: sortField\n      });\n    };\n\n    _this.onRowSelect = function (row) {\n      return _this.setState({\n        row: row\n      });\n    };\n\n    _this.addTable = function (row) {\n      var oldTable = _this.state.data;\n      console.log('row', row);\n      oldTable.push({\n        \"id\": 11,\n        \"firstName\": row.name,\n        \"lastName\": row.lastName,\n        \"email\": \"andrey@bk.ru\",\n        \"description\": \"Описание\"\n      });\n\n      _this.setState(oldTable);\n    };\n\n    _this.deleteRow = function (row) {\n      return _this.setState({\n        data: _this.state.data.filter(function (item) {\n          return item.id !== row;\n        })\n      });\n    };\n\n    _this.editRow = function (row) {\n      console.log('id', row);\n\n      _this.setState({\n        edit: false\n      });\n\n      _this.changeRow(row);\n    };\n\n    _this.searchHandler = function (search) {\n      _this.setState({\n        search: search\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"changeRow\",\n    value: function changeRow(id) {\n      var cloneData = this.state.data.concat(); // const data = cloneData.map(item => {\n      //   if (item.id === id) {\n      //     console.log('id in', item.id)\n      //   }\n      //   console.log('inner id', id)\n      //   return item\n      // })\n\n      console.log('id changeRow', id);\n      this.setState({\n        data: {\n          \"id\": 11,\n          \"firstName\": 'row.name',\n          \"lastName\": 'row.lastName',\n          \"email\": \"andrey@bk.ru\",\n          \"description\": \"Описание\"\n        }\n      });\n      console.log('change');\n    }\n  }, {\n    key: \"getFilteredData\",\n    value: function getFilteredData() {\n      var _this$state = this.state,\n          data = _this$state.data,\n          search = _this$state.search;\n\n      if (!search) {\n        return data;\n      }\n\n      var result = data.filter(function (item) {\n        return item[\"firstName\"].toLowerCase().includes(search.toLowerCase()) || item[\"lastName\"].toLowerCase().includes(search.toLowerCase()) || item[\"email\"].toLowerCase().includes(search.toLowerCase());\n      });\n\n      if (!result.length) {\n        result = this.state.data;\n      }\n\n      return result;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var filteredData = this.getFilteredData();\n\n      var displayData = _.chunk(filteredData, this.state.data.length)[this.state.currentPage];\n\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(TableSearch, {\n        onSearch: this.searchHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }), this.state.edit ? React.createElement(TableAdd, {\n        addTable: this.addTable,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }) : null, !this.state.edit ? React.createElement(TableEdit, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }) : null, React.createElement(Table, {\n        data: displayData,\n        onSort: this.onSort,\n        sort: this.state.sort,\n        sortField: this.state.sortField,\n        onRowSelect: this.onRowSelect,\n        deleteRow: this.deleteRow,\n        editRow: this.editRow,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      })), this.state.row ? React.createElement(DetailRowView, {\n        person: this.state.row,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }) : null);\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/dimamadrid/iCloud Drive (архив) - 1/Documents/WORK/React-table/src/App.js"],"names":["React","Component","Table","DetailRowView","TableSearch","TableAdd","TableEdit","_","App","state","data","search","sort","sortField","row","currentPage","edit","onSort","cloneData","concat","orderBy","setState","onRowSelect","addTable","oldTable","console","log","push","name","lastName","deleteRow","filter","item","id","editRow","changeRow","searchHandler","result","toLowerCase","includes","length","filteredData","getFilteredData","displayData","chunk"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Table from './Table/Table';\nimport DetailRowView from './DetailRowView/DetailRowView';\nimport TableSearch from './TableSearch/TableSearch';\nimport TableAdd from './TableAdd/TableAdd';\nimport TableEdit from './TableEdit/TableEdit';\nimport _ from 'lodash';\n\n\nclass App extends Component {\n\n\n  state = {\n    data: [\n      {\n        \"id\": 531,\n        \"firstName\": \"Андрей\",\n        \"lastName\": \"Баранов\",\n        \"email\": \"andrey@bk.ru\",\n        \"phone\": \"(909)541-2985\",\n        \"address\": {\n          \"streetAddress\": \"7366 Ante Ln\",\n          \"city\": \"Saint Pauls\",\n          \"state\": \"NC\",\n          \"zip\": \"93276\"\n        },\n        \"description\": \"Описание\"\n      },\n      {\n        \"id\": 7,\n        \"firstName\": \"Гретта\",\n        \"lastName\": \"Гарлкина\",\n        \"email\": \"diana@list.ru\",\n        \"phone\": \"(373)069-8474\",\n        \"address\": {\n          \"streetAddress\": \"3533 Pulvinar Dr\",\n          \"city\": \"Allentown\",\n          \"state\": \"KY\",\n          \"zip\": \"19194\"\n        },\n        \"description\": \"Описание 1\"\n      },\n      {\n        \"id\": 876,\n        \"firstName\": \"Джеймс\",\n        \"lastName\": \"Гандольфини\",\n        \"email\": \"jemes@list.ru\",\n        \"phone\": \"(455)380-5765\",\n        \"address\": {\n          \"streetAddress\": \"6557 Pretium Ct\",\n          \"city\": \"Berlin\",\n          \"state\": \"LA\",\n          \"zip\": \"94511\"\n        },\n        \"description\": \"Описание 2\"\n      },\n    ],\n    search: '',\n    sort: 'asc',  // 'desc'\n    sortField: 'id',\n    row: null,\n    currentPage: 0,\n    edit: true\n  }\n  onSort = sortField => {\n    const cloneData = this.state.data.concat();\n    const sort = this.state.sort === 'asc' ? 'desc' : 'asc';\n    const data = _.orderBy(cloneData, sortField, sort);\n    this.setState({ data, sort, sortField })\n  }\n  changeRow(id) {\n    const cloneData = this.state.data.concat();\n    // const data = cloneData.map(item => {\n    //   if (item.id === id) {\n    //     console.log('id in', item.id)\n    //   }\n    //   console.log('inner id', id)\n    //   return item\n    // })\n\n\n    console.log('id changeRow', id)\n    this.setState({\n      data: {\n        \"id\": 11,\n        \"firstName\": 'row.name',\n        \"lastName\": 'row.lastName',\n        \"email\": \"andrey@bk.ru\",\n        \"description\": \"Описание\"\n      }\n    })\n    console.log('change')\n  }\n\n\n\n  onRowSelect = row => (\n    this.setState({ row })\n  )\n  addTable = row => {\n    let oldTable = this.state.data;\n    console.log('row', row)\n    oldTable.push({\n      \"id\": 11,\n      \"firstName\": row.name,\n      \"lastName\": row.lastName,\n      \"email\": \"andrey@bk.ru\",\n      \"description\": \"Описание\"\n    });\n\n    this.setState(oldTable);\n  }\n  deleteRow = row => (\n    this.setState({ data: this.state.data.filter(item => item.id !== row) })\n  )\n  editRow = row => {\n    console.log('id', row)\n    this.setState({ edit: false })\n    this.changeRow(row)\n  }\n\n\n  searchHandler = search => {\n    this.setState({ search })\n  }\n\n\n\n  getFilteredData() {\n    const { data, search } = this.state\n\n    if (!search) {\n      return data\n    }\n    var result = data.filter(item => {\n      return (\n        item[\"firstName\"].toLowerCase().includes(search.toLowerCase()) ||\n        item[\"lastName\"].toLowerCase().includes(search.toLowerCase()) ||\n        item[\"email\"].toLowerCase().includes(search.toLowerCase())\n      );\n    });\n    if (!result.length) {\n      result = this.state.data\n    }\n    return result\n  }\n\n  render() {\n\n    const filteredData = this.getFilteredData();\n    const displayData = _.chunk(filteredData, this.state.data.length)[this.state.currentPage]\n    return (\n      <div className=\"container\">\n        {\n          <React.Fragment>\n            <TableSearch onSearch={this.searchHandler} />\n            {this.state.edit ? <TableAdd addTable={this.addTable} /> : null}\n            {!this.state.edit ? <TableEdit /> : null}\n            <Table\n              data={displayData}\n              onSort={this.onSort}\n              sort={this.state.sort}\n              sortField={this.state.sortField}\n              onRowSelect={this.onRowSelect}\n              deleteRow={this.deleteRow}\n              editRow={this.editRow}\n            />\n          </React.Fragment>\n\n        }\n        {\n          this.state.row ? <DetailRowView person={this.state.row} /> : null\n        }\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}